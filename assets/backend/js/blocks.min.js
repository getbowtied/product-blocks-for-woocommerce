"use strict";!function(e){var t=e.getCategories();t.unshift({slug:"product_blocks",title:"Product Blocks for WooCommerce"}),e.setCategories(t)}(window.wp.blocks),function(e,t,r,l,s){var d=s.createElement,a=e.registerBlockType,g=r.InspectorControls,p=t.TextControl,_=t.SelectControl,b=t.ToggleControl,y=t.RangeControl,o=(t.Button,t.SVG),i=t.Path,h=wp.apiFetch;a("getbowtied/categories-grid",{title:l.__("Product Categories Grid"),icon:d(o,{key:"getbowtied-categories-grid-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},d(i,{key:"getbowtied-categories-grid-icon-path",d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"})),category:"product_blocks",supports:{align:["center","wide","full"]},styles:[{name:"layout-1",label:"Layout 1"},{name:"layout-2",label:"Layout 2",isDefault:!0},{name:"layout-3",label:"Layout 3"}],attributes:{categoryIDs:{type:"string",default:""},queryCategories:{type:"string",default:""},queryCategoriesLast:{type:"string",default:""},queryDisplayType:{type:"string",default:"all_categories"},isLoading:{type:"bool",default:!1},querySearchString:{type:"string",default:""},querySearchResults:{type:"array",default:[]},querySearchNoResults:{type:"bool",default:!1},querySearchSelected:{type:"array",default:[]},queryOrder:{type:"string",default:""},parentOnly:{type:"bool",default:!1},hideEmpty:{type:"bool",default:!1},orderby:{type:"string",default:"menu_order"},productCount:{type:"bool",default:!0},firstLoad:{type:"bool",default:!0},limit:{type:"int",default:8},columns:{type:"int",default:3}},edit:function(i){function o(e){return"/wc/v3/products/categories"+e}function t(){var e=void 0;e="all_categories"==n.queryDisplayType?u(n.limit,n.orderby,n.parentOnly,n.hideEmpty):n.queryCategories,i.setAttributes({queryCategoriesLast:e}),""!=e&&h({path:e}).then(function(e){"menu_order"==n.orderby&&"all_categories"==n.queryDisplayType&&e.sort(function(e,t){return e.menu_order>t.menu_order?1:-1}),i.setAttributes({result:e}),i.setAttributes({isLoading:!1}),!1===n.doneFirstLoad&&i.setAttributes({querySearchSelected:e}),i.setAttributes({doneFirstLoad:!0});for(var t="",r=0;r<e.length;r++)t+=e[r].id+",";i.setAttributes({categoryIDs:t})})}function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"menu_order",r=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],s=!(3<arguments.length&&void 0!==arguments[3])||arguments[3];if("specific"===n.queryDisplayType)return n.queryCategories;var a=o("?per_page="+e);switch(t){case"menu_order":break;case"title_asc":a+="&orderby=slug&order=asc";break;case"title_desc":a+="&orderby=slug&order=desc"}return!0===r&&(a+="&parent=0"),!0===s&&(a+="&hide_empty=true"),a}var c=i.className,n=i.attributes;return n.selectedIDS=n.selectedIDS||[],n.doneFirstLoad=n.doneFirstLoad||!1,n.result=n.result||[],-1==c.indexOf("is-style-layout")&&(c+=" is-style-layout-2"),[d(g,{key:"products-main-inspector"},d("div",{className:"products-main-inspector-wrapper"},d(_,{key:"gbt-categories-grid-query-panel-select",label:l.__("Source:"),value:n.queryDisplayType,options:[{label:l.__("Manually pick"),value:"specific"},{label:l.__("All Categories"),value:"all_categories"}],onChange:function(e){return i.setAttributes({queryDisplayType:e})}}),"specific"===n.queryDisplayType&&d("div",{key:"gbt-categories-grid-query-ajax-search-wrapper",className:"products-ajax-search-wrapper"},d(p,{key:"gbt-categories-grid-query-panel-string",type:"search",className:"products-ajax-search",value:n.querySearchString,placeholder:l.__("Search for categories to display"),onChange:function(e){if(i.setAttributes({querySearchString:e}),!(e.length<3)){var t=o("?per_page=10&search="+e);h({path:t}).then(function(e){0==e.length?i.setAttributes({querySearchNoResults:!0}):i.setAttributes({querySearchNoResults:!1}),i.setAttributes({querySearchResults:e})})}}})),"specific"===n.queryDisplayType&&""!=n.querySearchString&&d("div",{key:"gbt-categories-grid-specific-ajax-search-results",className:"products-ajax-search-results"},function(){var e=[];if(1==n.querySearchNoResults)return d("span",{key:"gbt-categories-grid-noresults",className:"no-results"},l.__("No categories matching."));for(var t,a=n.querySearchResults,r=0;r<a.length;r++){var s=void 0;s=null!==a[r].image&&""!=a[r].image.src?d("span",{key:"gbt-categories-grid-img-wrapper"+r,className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+a[r].image.src+"')\"></span>"}}):d("span",{key:"gbt-categories-grid-img-wrapper"+r,className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+getbowtied_pbw.woo_placeholder_image+"')\"></span>"}}),e.push(d("span",{key:"gbt-categories-grid-cat-item-"+a[r].id,className:(t=a[r].id,-1==n.selectedIDS.indexOf(t)?"single-result":"single-result selected"),title:a[r].name.replace(/&amp;/g,"&"),"data-index":r},s,d("label",{key:"gbt-categories-grid-cat-item-label-"+r,className:"title-wrapper"},d("input",{key:"gbt-categories-grid-cat-item-input-"+r,type:"checkbox",value:r,onChange:function(e){e.target;var t=n.selectedIDS,r=t.indexOf(a[e.target.value].id);-1==r?t.push(a[e.target.value].id):t.splice(r,1),i.setAttributes({selectedIDS:t});var s=o("?include="+t.join(",")+"&orderby=include");0<t.length?i.setAttributes({queryCategories:s}):i.setAttributes({queryCategories:""}),h({path:s}).then(function(e){i.setAttributes({querySearchSelected:e})})}}),a[r].name.replace(/&amp;/g,"&"),d("span",{key:"gbt-categories-grid-cat-item-dashicon-yes-"+r,className:"dashicons dashicons-yes"}),d("span",{key:"gbt-categories-grid-cat-item-dashivon-noalt-"+r,className:"dashicons dashicons-no-alt"}))))}return e}()),"specific"===n.queryDisplayType&&0<n.querySearchSelected.length&&d("div",{key:"gbt-categories-grid-specific-results-wrapper",className:"products-selected-results-wrapper"},d("label",{key:"gbt-categories-grid-specific-results-label"},l.__("Selected Products:")),d("div",{key:"gbt-categories-grid-specific-selected-results",className:"products-selected-results"},function(){var e=[],a=n.querySearchSelected;if(n.selectedIDS.length<1&&0<a.length){for(var t=[],r=0;r<a.length;r++)t.push(a[r].id);i.setAttributes({selectedIDS:t})}for(var s=0;s<a.length;s++){var l="";l=null!==a[s].image&&""!=a[s].image.src?d("span",{key:"gbt-categories-grid-search-item-"+s,className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+a[s].image.src+"')\"></span>"}}):d("span",{key:"gbt-categories-grid-search-item-"+s,className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+getbowtied_pbw.woo_placeholder_image+"')\"></span>"}}),e.push(d("span",{key:"gbt-categories-grid-search-item-"+a[s].id,className:"single-result",title:a[s].name.replace(/&amp;/g,"&")},l,d("label",{key:"gbt-categories-grid-search-item-label-"+s,className:"title-wrapper"},d("input",{key:"gbt-categories-grid-search-item-checkbox-"+s,type:"checkbox",value:s,onChange:function(e){e.target;var t=n.selectedIDS,r=t.indexOf(a[e.target.value].id);-1!=r&&t.splice(r,1),i.setAttributes({selectedIDS:t});var s=o("?include="+t.join(",")+"&orderby=include");0<t.length?(i.setAttributes({queryCategories:s}),h({path:s}).then(function(e){i.setAttributes({querySearchSelected:e})})):(i.setAttributes({queryCategories:""}),i.setAttributes({querySearchSelected:[]}))}}),a[s].name.replace(/&amp;/g,"&"),d("span",{key:"gbt-categories-grid-search-item-dashicon-noalt-"+s,className:"dashicons dashicons-no-alt"}))))}return e}())),"all_categories"===n.queryDisplayType&&[d(_,{key:"gbt-categories-grid-order-by",options:[{value:"menu_order",label:"Menu Order"},{value:"title_asc",label:"Alphabetical Ascending"},{value:"title_desc",label:"Alphabetical Descending"}],label:l.__("Order By"),value:n.orderby,onChange:function(e){i.setAttributes({orderby:e})}}),d(p,{key:"gbt-categories-grid-display-number",label:l.__("How many product categories to display?"),type:"number",value:n.limit,onChange:function(e){i.setAttributes({limit:e})}}),d(b,{id:"categories-grid-display",key:"gbt-categories-grid-display",label:l.__("Parent Categories Only"),checked:n.parentOnly,onChange:function(e){i.setAttributes({parentOnly:e})}}),d(b,{key:"gbt-categories-grid-hide-empty",label:l.__("Hide Empty"),checked:n.hideEmpty,onChange:function(e){i.setAttributes({hideEmpty:e})}})],d("button",{key:"gbt-categories-grid-load-button",className:"render-results components-button is-button is-default is-primary is-large "+(!0===n.isLoading?"is-busy":""),disabled:0==n.queryCategories.length||u(n.limit,n.orderby,n.parentOnly,n.hideEmpty)===n.queryCategoriesLast,onClick:function(e){i.setAttributes({isLoading:!0}),i.setAttributes({querySearchString:""}),i.setAttributes({querySearchResults:[]}),t()}},!1===n.isLoading?l.__("Update"):l.__("Updating"))),d("div",{className:"products-main-inspector-wrapper"},d(b,{key:"gbt-categories-grid-product-count",label:l.__("Product Count"),checked:n.productCount,onChange:function(e){i.setAttributes({productCount:e})}}),-1!==i.className.indexOf("is-style-layout-1")&&d(y,{key:"gbt-categories-grid-layout-1-columns",value:n.columns,allowReset:!1,initialPosition:3,min:2,max:6,label:l.__("Columns"),onChange:function(e){i.setAttributes({columns:e})}}))),d("div",{key:"gbt-categories-grid-results"},n.result.length<1&&!1===n.doneFirstLoad&&t(),function(){if(!0===n.firstLoad){var s=u(n.limit,n.orderby,n.parentOnly,n.hideEmpty);h({path:s}).then(function(e){e=function e(t,r){for(var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,l=0;l<r.length;l++)r[l].parent==t&&(r[l].level=a,s.push(r[l]),e(r[l].id,r,s,a+1));return s}(0,e),i.setAttributes({result:e}),i.setAttributes({firstLoad:!1}),i.setAttributes({queryCategories:s}),i.setAttributes({queryCategoriesLast:s});for(var t="",r=0;r<e.length;r++)t+=e[r].id+",";i.setAttributes({categoryIDs:t})})}for(var e=n.result,t=[],r=[],a="gbt_18_editor_category_grid_item",l=0;l<e.length;l++){var o="";o=null!==e[l].image?e[l].image.src:getbowtied_pbw.woo_placeholder_image,t.push(d("div",{key:"gbt-category-grid-item-"+e[l].id,className:a},d("a",{key:"gbt-category-grid-item-a-"+l,className:a+"_img"},d("img",{key:"gbt-category-grid-item-img-"+l,className:a+"_thumb",src:o}),d("h4",{key:"gbt-category-grid-item-h4-"+l,className:a+"_title"},e[l].name.replace(/&amp;/g,"&"),!0===n.productCount&&d("span",{key:"gbt-category-grid-item-count-"+l,className:a+"_count"},e[l].count)))))}return r.push(d("div",{key:"gbt_18_editor_categories_grid_wrapper",className:c+" gbt_18_editor_categories_grid_wrapper"},d("div",{key:"gbt_18_editor_categories_grid",className:"gbt_18_editor_categories_grid "+i.className+" "+(-1!==i.className.indexOf("is-style-layout-1")?"columns-"+n.columns:"")},t,d("div",{key:"gbt_18_editor_categories_grid_clearfix",className:"clearfix"})))),r}())]},save:function(){}})}(window.wp.blocks,window.wp.components,window.wp.editor,window.wp.i18n,window.wp.element,jQuery),function(e,t,r,l,s){var u=s.createElement,a=e.registerBlockType,c=r.InspectorControls,_=t.TextControl,b=t.SelectControl,y=(t.ToggleControl,t.RangeControl),o=(t.Button,t.SVG),i=t.Path,h=wp.apiFetch;a("getbowtied/scattered-product-list",{title:l.__("Scattered Product List"),icon:u(o,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},u(i,{d:"M 7.1875 2.9941406 C 6.409 3.0139688 5.6767969 3.4902656 5.3730469 4.2597656 L 4.2929688 7 L 6.4433594 7 L 7.234375 4.9921875 L 12.326172 7 L 17.779297 7 L 7.96875 3.1328125 C 7.713 3.0320625 7.447 2.9875312 7.1875 2.9941406 z M 5 9 C 3.9069372 9 3 9.9069372 3 11 L 3 19 C 3 20.093063 3.9069372 21 5 21 L 19 21 C 20.093063 21 21 20.093063 21 19 L 21 11 C 21 9.9069372 20.093063 9 19 9 L 5 9 z M 5 11 L 14 11 L 14 19 L 5 19 L 5 11 z M 16 11 L 19 11 L 19 19 L 16 19 L 16 11 z"})),category:"product_blocks",supports:{align:["center","wide","full"]},attributes:{queryProducts:{type:"string",default:"/wc/v2/products?per_page=10"},queryProductsLast:{type:"string",default:""},queryDisplayType:{type:"string",default:"all_products"},selectedIDS:{type:"string",default:""},productIDs:{type:"string",default:""},querySearchSelected:{type:"array",default:[]},queryCategoryOptions:{type:"array",default:""},queryCategorySelected:{type:"array",default:[]},queryFilterSelected:{type:"string",default:""},queryAttributesSelected:{type:"string",default:""},queryAttributesOptions:{type:"array",default:[]},queryAttributesOptionsValues:{type:"array",default:[]},queryAttributesSelectedSlug:{type:"string",default:""},queryAttributesOptionsSelected:{type:"array",default:[]},queryOrder:{type:"string",default:""},limit:{type:"int",default:10}},edit:function(n){function o(e){var t=[];0<e.length&&(t=e.split(","));for(var r=0;r<t.length;r++)""==t[r]?t.splice(r,1):t[r]=Number(t[r]);return t}function a(){n.setAttributes({queryOrder:""}),n.setAttributes({queryProducts:""}),n.setAttributes({querySearchString:""}),n.setAttributes({querySearchResults:[]}),n.setAttributes({querySearchSelected:[]}),n.setAttributes({selectedIDS:[]}),n.setAttributes({queryAttributesOptionsSelected:[]}),n.setAttributes({queryCategorySelected:[]}),n.setAttributes({result:[]})}function i(e,t){return-1!=t.indexOf(e.toString())}function d(e){return"/wc/v2/products"+e}function t(){var e=p.queryProducts;n.setAttributes({queryProductsLast:e}),""!=e&&h({path:e}).then(function(e){n.setAttributes({result:e}),n.setAttributes({isLoading:!1}),!1===p.doneFirstLoad&&n.setAttributes({querySearchSelected:e}),n.setAttributes({doneFirstLoad:!0});for(var t="",r=0;r<e.length;r++)t+=e[r].id+",";n.setAttributes({productIDs:t}),n.setAttributes({selectedSlide:0})})}function g(){if(p.queryOrder.length<1)return"";var e="";switch(p.queryOrder){case"date_desc":e="&orderby=date&order=desc";break;case"date_asc":e="&orderby=date&order=asc";break;case"title_desc":e="&orderby=title&order=desc";break;case"title_asc":e="&orderby=title&order=asc"}return e}function e(){var e=[];return e.push(u(b,{key:"query-panel-orderby",label:l.__("Order By:"),value:p.queryOrder,className:"orderby-wrapper",options:[{label:l.__("Newness - newest first"),value:"date_desc"},{label:l.__("Newness - oldest first"),value:"date_asc"},{label:l.__("Title - ascending"),value:"title_asc"},{label:l.__("Title - descending"),value:"title_desc"}],onChange:function(e){n.setAttributes({queryOrder:e}),function(e){var t=p.queryProducts;if(!(t.length<1)){var r=t.indexOf("&orderby");switch(-1<r&&(t=t.substring(r,-25)),e){case"date_desc":t+="&orderby=date&order=desc";break;case"date_asc":t+="&orderby=date&order=asc";break;case"title_desc":t+="&orderby=title&order=desc";break;case"title_asc":t+="&orderby=title&order=asc"}n.setAttributes({queryProducts:t})}}(e)}})),e}function r(){var e=d("/categories?&per_page=100"),s=[],a=[];h({path:e}).then(function(e){for(var t=0;t<e.length;t++)s[t]={label:e[t].name.replace(/&amp;/g,"&"),value:e[t].id,parent:e[t].parent,count:e[t].count};for(var r=0;r<s.length;r++);a=function e(t,r){for(var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,l=0;l<r.length;l++)r[l].parent==t&&(r[l].level=a,s.push(r[l]),e(r[l].value,r,s,a+1));return s}(0,s),n.setAttributes({queryCategoryOptions:a})})}var p=n.attributes;return p.selectedSlide=p.selectedSlide||0,p.result=p.result||[],p.isLoading=p.isLoading||!1,p.querySearchString=p.querySearchString||"",p.querySearchResults=p.querySearchResults||[],p.querySearchNoResults=p.querySearchNoResults||!1,p.doneFirstLoad=p.doneFirstLoad||!1,[u(c,{key:"gbt-scattered-list-products-main-inspector"},u("div",{key:"gbt-scattered-list-products-main-inspector-wrapper",className:"products-main-inspector-wrapper"},u(b,{key:"query-panel-select",label:l.__("Source:"),value:p.queryDisplayType,options:[{label:l.__("Choose an Option"),value:"default"},{label:l.__("Manually pick products"),value:"specific"},{label:l.__("Display by Category"),value:"by_category"},{label:l.__("Filter Products"),value:"filter_by"},{label:l.__("All Products"),value:"all_products"}],onChange:function(e){if(""==p.queryProducts||!1!==window.confirm(l.__("Changing the product source will lose the current selection."))){if(a(),"by_category"===e&&r(),"all_products"===e){var t=d("?per_page="+p.limit);n.setAttributes({queryProducts:t})}return n.setAttributes({queryDisplayType:e})}}}),"specific"===p.queryDisplayType&&u("div",{className:"products-ajax-search-wrapper"},u(_,{key:"query-panel-string",type:"search",className:"products-ajax-search",value:p.querySearchString,placeholder:l.__("Search for products to display"),onChange:function(e){if(n.setAttributes({querySearchString:e}),!(e.length<3)){var t=d("?per_page=10&search="+e);h({path:t}).then(function(e){0==e.length?n.setAttributes({querySearchNoResults:!0}):n.setAttributes({querySearchNoResults:!1}),n.setAttributes({querySearchResults:e})})}}})),"specific"===p.queryDisplayType&&0<p.querySearchResults.length&&""!=p.querySearchString&&u("div",{className:"products-ajax-search-results"},function(){var e=[];if(!0===p.querySearchNoResults)return u("span",{key:"gbt-scattered-list-search-results-noresults",className:"no-results"},l.__("No products matching."));for(var t,a=p.querySearchResults,r=0;r<a.length;r++){var s="";s=void 0!==a[r].images[0]&&""!=a[r].images[0].src?u("span",{key:"gbt-scattered-list-search-results-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+a[r].images[0].src+"')\"></span>"}}):u("span",{key:"gbt-scattered-list-search-results-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+getbowtied_pbw.woo_placeholder_image+"')\"></span>"}}),e.push(u("span",{key:"gbt-scattered-list-search-item-"+a[r].id,className:(t=a[r].id,-1==o(p.selectedIDS).indexOf(t)?"single-result":"single-result selected"),title:a[r].name,"data-index":r},s,u("label",{key:"gbt-scattered-list-search-item-label-"+r,className:"title-wrapper"},u("input",{key:"gbt-scattered-list-search-item-input-"+r,type:"checkbox",value:r,onChange:function(e){e.target;var t=o(p.selectedIDS),r=t.indexOf(a[e.target.value].id);-1==r?t.push(a[e.target.value].id):t.splice(r,1),n.setAttributes({selectedIDS:t.join(",")});var s=d("?include="+t.join(",")+"&orderby=include");0<t.length?n.setAttributes({queryProducts:s}):n.setAttributes({queryProducts:""}),h({path:s}).then(function(e){n.setAttributes({querySearchSelected:e})})}}),a[r].name,u("span",{key:"gbt-scattered-list-search-item-dashicon-yes-"+r,className:"dashicons dashicons-yes"}),u("span",{key:"gbt-scattered-list-search-item-dashicon-noalt-"+r,className:"dashicons dashicons-no-alt"}))))}return e}()),"specific"===p.queryDisplayType&&0<p.querySearchSelected.length&&u("div",{className:"products-selected-results-wrapper"},u("label",{},l.__("Selected Products:")),u("div",{className:"products-selected-results"},function(){for(var e=[],l=p.querySearchSelected,t=0;t<l.length;t++){var r="";r=void 0!==l[t].images[0]&&""!=l[t].images[0].src?u("span",{key:"gbt-scattered-list-search-selected-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+l[t].images[0].src+"')\"></span>"}}):u("span",{key:"gbt-scattered-list-search-selected-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+getbowtied_pbw.woo_placeholder_image+"')\"></span>"}}),e.push(u("span",{key:"gbt-scattered-list-search-selected-item-"+l[t].id,className:"single-result",title:l[t].name},r,u("label",{key:"gbt-scattered-list-search-selected-item-label-"+t,className:"title-wrapper"},u("input",{key:"gbt-scattered-list-search-selected-item-input-"+t,type:"checkbox",value:t,onChange:function(e){e.target;var t=o(p.selectedIDS);if(t.length<1&&0<p.querySearchSelected.length)for(var r=0;r<p.querySearchSelected.length;r++)t.push(p.querySearchSelected[r].id);var s=t.indexOf(l[e.target.value].id);-1!=s&&t.splice(s,1),n.setAttributes({selectedIDS:t.join(",")});var a=d("?include="+t.join(",")+"&orderby=include");0<t.length?(n.setAttributes({queryProducts:a}),h({path:a}).then(function(e){n.setAttributes({querySearchSelected:e})})):(n.setAttributes({queryProducts:""}),n.setAttributes({querySearchSelected:[]}))}}),l[t].name,u("span",{key:"gbt-scattered-list-search-selected-item-dashicon-no-alt-"+t,className:"dashicons dashicons-no-alt"}))))}return e}())),"by_category"===p.queryDisplayType&&u("div",{className:"category-result-wrapper"},function e(){var t,r,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,l=[],c=p.queryCategoryOptions;if(0<c.length)for(var o=0;o<c.length;o++)c[o].parent==s&&l.push(u("li",{key:"gbt-scattered-list-category-item-"+c[o].value,className:"level-"+c[o].level},u("label",{key:"gbt-scattered-list-category-label-"+o,className:(t=c[o].parent,r=c[o].value,(0==t?"parent parent-"+r:"child child-"+t)+" "+c[o].level)},u("input",{type:"checkbox",key:"category-checkbox-"+c[o].value,value:c[o].value,"data-index":o,"data-parent":c[o].parent,checked:i(c[o].value,p.queryCategorySelected),onChange:function(e){var t=Number(e.target.dataset.index);if(!0===e.target.checked){var r=p.queryCategorySelected;-1==r.indexOf(e.target.value)&&r.push(e.target.value);for(var s=t+1;s<c.length-1&&c[t].level<c[s].level;s++)-1==r.indexOf(c[s].value.toString())&&r.push(c[s].value.toString());n.setAttributes({queryCategorySelected:r})}else{var a=p.queryCategorySelected,l=a.indexOf(e.target.value);-1<l&&a.splice(l,1);for(var o=t+1;o<c.length-1&&c[t].level<c[o].level;o++){var i=a.indexOf(c[o].value.toString());-1<i&&a.splice(i,1)}n.setAttributes({queryCategorySelected:a})}if(0<p.queryCategorySelected.length){var u=d("?per_page="+p.limit+"&category="+p.queryCategorySelected.join(","));u+=g(),n.setAttributes({queryProducts:u})}else n.setAttributes({queryProducts:""})}}),c[o].label,u("sup",{},c[o].count)),e(c[o].value,a+1)));return 0<l.length?u("ul",{className:"level-"+a},l):void 0}()),"by_category"===p.queryDisplayType&&e(),"filter_by"===p.queryDisplayType&&u(b,{key:"query-panel-filter",value:p.queryFilterSelected,options:[{label:"Filter by",value:""},{label:l.__("Featured products"),value:"featured"},{label:l.__("On sale"),value:"on_sale"},{label:l.__("Attributes"),value:"attributes"}],onChange:function(e){if(a(),n.setAttributes({queryFilterSelected:e}),"attributes"===e)r=d("/attributes"),(s=[]).push({label:"Choose",value:" "}),h({path:r}).then(function(e){for(var t=0;t<e.length;t++)s.push({label:e[t].name.replace(/&amp;/g,"&"),value:e[t].id});n.setAttributes({queryAttributesOptions:s})});else{var t=d("?per_page="+p.limit+"&"+e+"=1");n.setAttributes({queryProducts:t})}var r,s}}),"filter_by"===p.queryDisplayType&&"attributes"===p.queryFilterSelected&&u(b,{key:"query-panel-attributes",value:p.queryAttributesSelected,options:p.queryAttributesOptions,onChange:function(e){a(),n.setAttributes({queryAttributesSelected:e}),function(e){var t=d("/attributes/"+e+"/terms"),r=[];h({path:t}).then(function(e){for(var t=0;t<e.length;t++)r[t]={label:e[t].name.replace(/&amp;/g,"&"),value:e[t].id,count:e[t].count};n.setAttributes({queryAttributesOptionsValues:r})});var s=d("/attributes/"+e);h({path:s}).then(function(e){n.setAttributes({queryAttributesSelectedSlug:e.slug})})}(e)}}),"filter_by"===p.queryDisplayType&&"attributes"===p.queryFilterSelected&&""!==p.queryAttributesSelected&&u("div",{className:"attributes-results-wrapper"},function(){var e=[],t=p.queryAttributesOptionsValues;if(0<t.length)for(var r=0;r<t.length;r++)e.push(u("label",{key:"gbt-scattered-list-attribute-item-"+t[r].value,className:"attribute-label"},u("input",{type:"checkbox",key:"attribute-checkbox-"+t[r].value,value:t[r].value,checked:i(t[r].value,p.queryAttributesOptionsSelected),onChange:function(e){if(!0===e.target.checked){var t=p.queryAttributesOptionsSelected;-1==t.indexOf(e.target.value)&&t.push(e.target.value),n.setAttributes({queryAttributesOptionsSelected:t})}else{var r=p.queryAttributesOptionsSelected,s=r.indexOf(e.target.value);-1<s&&r.splice(s,1),n.setAttributes({queryAttributesOptionsSelected:r})}if(0<p.queryAttributesOptionsSelected.length){var a=d("?per_page="+p.limit+"&attribute="+p.queryAttributesSelectedSlug+"&attribute_term="+p.queryAttributesOptionsSelected.join(","));a+=g(),n.setAttributes({queryProducts:a})}else n.setAttributes({queryProducts:""})}}),t[r].label,u("sup",{},t[r].count)));return e}()),"filter_by"===p.queryDisplayType&&""!=p.queryFilterSelected&&e(),"all_products"===p.queryDisplayType&&e(),"specific"!==p.queryDisplayType&&u(y,{value:p.limit,allowReset:!1,initialPosition:10,min:2,max:20,label:l.__("Number of Products"),onChange:function(e){n.setAttributes({limit:e}),function(e){var t=p.queryProducts,r=void 0;t=(t=t.replace("/wc/v2/products?","")).split("&");for(var s=!1,a=0;a<t.length;a++)if("per_page"===t[a].split("=")[0]){t[a]="per_page="+e,s=!0;break}r=!0===s?"/wc/v2/products?"+t.join("&"):"/wc/v2/products?per_page="+e+"&"+t.join("&"),n.setAttributes({queryProducts:r})}(e)}}),u("button",{className:"render-results components-button is-button is-default is-primary is-large "+(!0===p.isLoading?"is-busy":""),disabled:0==p.queryProducts.length||p.queryProducts===p.queryProductsLast,onClick:function(e){n.setAttributes({isLoading:!0}),n.setAttributes({querySearchString:""}),n.setAttributes({querySearchResults:[]}),t()}},!1===p.isLoading?l.__("Update"):l.__("Updating")))),u("div",{key:"gbt-scattered-list-main-wrapper"},p.result.length<1&&!1===p.doneFirstLoad&&t(),function(){var e=p.result,t=[],r=[];if(0<e.length){for(var s="gbt_18_grid_product",a=0;a<e.length;a++){var l="";l=void 0!==e[a].images[0]&&""!=e[a].images[0].src?e[a].images[0].src:getbowtied_pbw.woo_placeholder_image,t.push(u("li",{key:s+"_item-"+e[a].id,className:s+" item-"+e[a].id},u("div",{key:s+"_content_wrapper"+a,className:s+"_content_wrapper"},u("img",{key:s+"_thumbnail"+a,className:s+"_thumbnail",src:l}),u("h4",{key:s+"_title"+a,className:s+"_title"},e[a].name),u("span",{key:s+"_price"+a,className:s+"_price",dangerouslySetInnerHTML:{__html:e[a].price_html}}))))}r.push(u("div",{key:"gbt_18_expanding_grid_wrapper",className:"gbt_18_expanding_grid_wrapper"},u("ul",{key:"gbt_18_expanding_grid_products ",className:"gbt_18_expanding_grid_products "},t)))}else{for(var o="gbt_18_placeholder_grid_product",i=0;i<2;i++)t.push(u("li",{key:o+"_item-"+i,className:o+" item-"+i},u("div",{key:o+"_content_wrapper"+i,className:o+"_content_wrapper"},u("div",{key:o+"_thumbnail"+i,className:o+"_thumbnail"}),u("div",{key:o+"_title"+i,className:o+"_title"}),u("div",{key:o+"_price"+i,className:o+"_price"}))));r.push(u("div",{key:"gbt_18_placeholder_expanding_grid_wrapper",className:"gbt_18_placeholder_expanding_grid_wrapper"},u("ul",{key:"gbt_18_placeholder_expanding_grid_products ",className:"gbt_18_placeholder_expanding_grid_products "},t)))}return r}())]},save:function(){return null}})}(window.wp.blocks,window.wp.components,window.wp.editor,window.wp.i18n,window.wp.element,jQuery),function(e,t,r,s,a){var l=a.createElement,o=e.registerBlockType,i=r.InnerBlocks,u=t.SVG,c=t.Path;o("getbowtied/lookbook-reveal",{title:s.__("Lookbook - Product Reveal"),icon:l(u,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},l(c,{d:"M 7.1875 2.9941406 C 6.409 3.0139688 5.6767969 3.4902656 5.3730469 4.2597656 L 4.2929688 7 L 6.4433594 7 L 7.234375 4.9921875 L 12.326172 7 L 17.779297 7 L 7.96875 3.1328125 C 7.713 3.0320625 7.447 2.9875312 7.1875 2.9941406 z M 5 9 C 3.9069372 9 3 9.9069372 3 11 L 3 19 C 3 20.093063 3.9069372 21 5 21 L 19 21 C 20.093063 21 21 20.093063 21 19 L 21 11 C 21 9.9069372 20.093063 9 19 9 L 5 9 z M 5 11 L 14 11 L 14 19 L 5 19 L 5 11 z M 16 11 L 19 11 L 19 19 L 16 19 L 16 11 z"})),category:"product_blocks",supports:{align:["center","wide","full"]},edit:function(e){e.attributes;return[l("div",{key:"gbt_18_lookbook_reveal_topbar",className:"gbt_18_lookbook_reveal_topbar"},l("div",{key:"gbt_18_lookbook_reveal_topbar_title",className:"gbt_18_lookbook_reveal_topbar_title"},l(u,{key:"gbt_18_lookbook_reveal_topbar_title_icon",className:"gbt_18_lookbook_reveal_topbar_title_icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},l(c,{key:"gbt_18_lookbook_reveal_topbar_title_icon_path",d:"M 7.1875 2.9941406 C 6.409 3.0139688 5.6767969 3.4902656 5.3730469 4.2597656 L 4.2929688 7 L 6.4433594 7 L 7.234375 4.9921875 L 12.326172 7 L 17.779297 7 L 7.96875 3.1328125 C 7.713 3.0320625 7.447 2.9875312 7.1875 2.9941406 z M 5 9 C 3.9069372 9 3 9.9069372 3 11 L 3 19 C 3 20.093063 3.9069372 21 5 21 L 19 21 C 20.093063 21 21 20.093063 21 19 L 21 11 C 21 9.9069372 20.093063 9 19 9 L 5 9 z M 5 11 L 14 11 L 14 19 L 5 19 L 5 11 z M 16 11 L 19 11 L 19 19 L 16 19 L 16 11 z"})),s.__("Lookbook - Product Reveal"))),l(i,{key:"gbt_18_lookbook_reveal_inner_product",allowedBlocks:["getbowtied/lookbook-reveal-product"]})]},save:function(e){return l("div",{key:"gbt_18_lookbook_reveal_wrapper",className:"gbt_18_lookbook_reveal_wrapper"},l(i.Content,{key:"gbt_18_lookbook_reveal_wrapper"}))}})}(window.wp.blocks,window.wp.components,window.wp.editor,window.wp.i18n,window.wp.element,jQuery),function(e,t,r,n,s){var d=s.createElement,a=e.registerBlockType,g=r.InspectorControls,p=r.PanelColorSettings,_=t.TextControl,l=(t.SelectControl,t.RangeControl,t.SVG),o=t.Path,b=wp.apiFetch;a("getbowtied/lookbook-reveal-product",{title:n.__("Lookbook Product"),icon:d(l,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},d(o,{d:"M21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM3 19V6h8v13H3zm18 0h-8V6h8v13zm-7-9.5h6V11h-6zm0 2.5h6v1.5h-6zm0 2.5h6V16h-6z"})),category:"product_blocks",parent:["getbowtied/lookbook-reveal"],attributes:{productIDs:{type:"string",default:""},queryProducts:{type:"string",default:""},queryProductsLast:{type:"string",default:""},queryDisplayType:{type:"string",default:"default"},isLoading:{type:"bool",default:!1},selectedIDS:{type:"string",default:""},querySearchString:{type:"string",default:""},querySearchResults:{type:"array",default:[]},querySearchNoResults:{type:"bool",default:!1},querySearchSelected:{type:"array",default:[]},bgColor:{type:"string",default:"#d3d5d9"},textColor:{type:"string",default:"#ffffff"},animation:{type:"string",default:"animation-1"}},edit:function(o){function i(e){var t=[];0<e.length&&(t=e.split(","));for(var r=0;r<t.length;r++)""==t[r]?t.splice(r,1):t[r]=Number(t[r]);return t}function l(){return 0<c.querySearchSelected.length||0<i(c.selectedIDS).length?"is-disabled":""}function u(e){return"/wc/v2/products"+e}function t(){var e=c.queryProducts;o.setAttributes({queryProductsLast:e}),""!=e&&b({path:e}).then(function(e){o.setAttributes({result:e}),o.setAttributes({isLoading:!1}),!1===c.doneFirstLoad&&o.setAttributes({querySearchSelected:e}),o.setAttributes({doneFirstLoad:!0});for(var t="",r=0;r<e.length;r++)t+=e[r].id+",";o.setAttributes({productIDs:t}),o.setAttributes({selectedSlide:0})})}var c=o.attributes;c.result=c.result||[],c.doneFirstLoad=c.doneFirstLoad||!1;return[d(g,{key:"lookbook-reveal-inspector"},d("div",{className:"products-main-inspector-wrapper"},d("div",{className:"products-ajax-search-wrapper "+l()},d(_,{key:"query-panel-string",type:"search",className:"products-ajax-search",value:c.querySearchString,placeholder:n.__("Search for products to display"),disabled:0<c.querySearchSelected.length,onChange:function(e){if(o.setAttributes({querySearchString:e}),!(e.length<3)){var t=u("?per_page=10&search="+e);b({path:t}).then(function(e){0==e.length?o.setAttributes({querySearchNoResults:!0}):o.setAttributes({querySearchNoResults:!1}),o.setAttributes({querySearchResults:e})})}}})),0<c.querySearchResults.length&&""!=c.querySearchString&&d("div",{className:"products-ajax-search-results"},function(){var e=[];if(!0===c.querySearchNoResults)return d("span",{className:"no-results"},n.__("No products matching."));for(var t,a=c.querySearchResults,r=0;r<a.length;r++){var s="";void 0!==a[r].images[0].src&&""!=a[r].images[0].src&&(s=d("span",{className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+a[r].images[0].src+"')\"></span>"}})),e.push(d("span",{key:"item-"+a[r].id+r,className:(t=a[r].id,(-1==i(c.selectedIDS).indexOf(t)?"single-result":"single-result selected")+" "+l()),title:a[r].name,"data-index":r},s,d("label",{className:"title-wrapper"},d("input",{type:"checkbox",value:r,onChange:function(e){if(!(0<i(c.selectedIDS).length)){e.target;var t=i(c.selectedIDS),r=t.indexOf(a[e.target.value].id);-1==r?t.push(a[e.target.value].id):t.splice(r,1),o.setAttributes({selectedIDS:t.join(",")});var s=u("?include="+t.join(",")+"&orderby=include");0<t.length?o.setAttributes({queryProducts:s}):o.setAttributes({queryProducts:""}),b({path:s}).then(function(e){o.setAttributes({querySearchSelected:e})})}}}),a[r].name,d("span",{className:"dashicons dashicons-yes"}),d("span",{className:"dashicons dashicons-no-alt"}))))}return e}()),0<c.querySearchSelected.length&&d("div",{className:"products-selected-results-wrapper"},d("label",{},n.__("Selected Products:")),d("div",{className:"products-selected-results"},function(){for(var e=[],l=c.querySearchSelected,t=0;t<l.length;t++){var r="";void 0!==l[t].images[0].src&&""!=l[t].images[0].src&&(r=d("span",{className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+l[t].images[0].src+"')\"></span>"}})),e.push(d("span",{key:"item-"+l[t].id,className:"single-result",title:l[t].name},r,d("label",{className:"title-wrapper"},d("input",{type:"checkbox",value:t,onChange:function(e){var t=i(c.selectedIDS);if(t.length<1&&0<c.querySearchSelected.length)for(var r=0;r<c.querySearchSelected.length;r++)t.push(c.querySearchSelected[r].id);var s=t.indexOf(l[e.target.value].id);-1!=s&&t.splice(s,1),o.setAttributes({selectedIDS:t.join(",")});var a=u("?include="+t.join(",")+"&orderby=include");0<t.length?(o.setAttributes({queryProducts:a}),b({path:a}).then(function(e){o.setAttributes({querySearchSelected:e})})):(o.setAttributes({queryProducts:""}),o.setAttributes({querySearchSelected:[]}))}}),l[t].name,d("span",{className:"dashicons dashicons-no-alt"}))))}return e}())),d("button",{className:"render-results components-button is-button is-default is-primary is-large "+(!0===c.isLoading?"is-busy":""),disabled:0==c.queryProducts.length||c.queryProducts===c.queryProductsLast,onClick:function(e){o.setAttributes({isLoading:!0}),o.setAttributes({querySearchString:""}),o.setAttributes({querySearchResults:[]}),t()}},!1===c.isLoading?n.__("Update"):n.__("Updating")),d(p,{key:"lookbook-reveal-colors",title:n.__("Colors"),colors:[{name:"red",color:"#d02e2e"},{name:"orange",color:"#f76803"},{name:"yellow",color:"#fbba00"},{name:"green",color:"#43d182"},{name:"blue",color:"#2594e3"},{name:"white",color:"#ffffff"},{name:"dark-gray",color:"#abb7c3"},{name:"black",color:"#000"}],colorSettings:[{label:n.__("Background Color"),value:c.bgColor,onChange:function(e){o.setAttributes({bgColor:e})}},{label:n.__("Text Color"),value:c.textColor,onChange:function(e){o.setAttributes({textColor:e})}}]}))),c.result.length<1&&!1===c.doneFirstLoad&&t(),function(){var e=c.result,t=[],r=[];if(0<e.length){for(var s="",a="gbt_18_editor_lookbook_product",l=0;l<e.length;l++)s=35<e[l].name.length?"...":"",t.push(d("div",{key:a+"_contentitem-"+e[l].id,className:a+"_content"},d("div",{key:a+"_content_left",className:a+"_content_left"},d("div",{key:a+"_content_left_inner_top",className:a+"_content_left_inner_top"},d("h2",{key:a+"_title",style:{color:c.textColor},className:a+"_title"},e[l].name.substring(0,35)+s),d("div",{key:a+"_text",style:{color:c.textColor},className:a+"_text",dangerouslySetInnerHTML:{__html:e[l].short_description}})),d("div",{key:a+"_content_left_inner_bottom",className:a+"_content_left_inner_bottom"},d("p",{key:a+"_price",style:{color:c.textColor},className:a+"_price",dangerouslySetInnerHTML:{__html:e[l].price_html}}),d("button",{key:a+"_button",style:{color:c.textColor,borderBottomColor:c.textColor},className:a+"_button"},"Add To Cart"))),d("div",{key:a+"_content_right",className:a+"_content_right"},d("div",{key:a+"_image",style:{backgroundImage:"url("+e[l].images[0].src+")"},className:a+"_image"}))));r.push(d("div",{className:"gbt_18_lookbook_reveal_product_wrapper",key:"gbt_18_lookbook_reveal_product_wrapper",style:{backgroundColor:c.bgColor}},t))}else{var o="gbt_18_editor_placeholder_lookbook_product";r.push(d("div",{key:o+"_wrapper",className:"gbt_18_editor_lookbook_product_wrapper placeholder"},d("div",{key:o+"_content",className:"gbt_18_editor_lookbook_product_content placeholder"},d("div",{key:o+"_content_left",className:o+"_content_left"},d("div",{key:o+"_content_left_inner_top",className:o+"_content_left_inner_top"},d("div",{className:o+"_title",key:o+"_title"}),d("div",{className:o+"_text1",key:o+"_text1"}),d("div",{className:o+"_text2",key:o+"_text2"})),d("div",{key:o+"_content_left_inner_bottom",className:o+"_content_left_inner_bottom"},d("div",{className:o+"_price",key:o+"_price"}),d("button",{className:o+"_button",key:o+"_button"},"Add To Cart"))),d("div",{key:o+"_content_right",className:o+"_content_right"},d("div",{className:o+"_image",key:o+"_image"})))))}return r}()]},save:function(e){return""}})}(window.wp.blocks,window.wp.components,window.wp.editor,window.wp.i18n,window.wp.element,jQuery),function(e,t,r,s,a){var l=a.createElement,o=e.registerBlockType,i=r.InnerBlocks,u=r.RichText,c=r.MediaUpload,n=r.PanelColorSettings,d=r.InspectorControls,g=t.Button,p=t.SVG,_=t.Path,b=t.Circle,y={title:{type:"string",default:"Lookbook Title"},subtitle:{type:"string",default:"Lookbook Subtitle"},imgURL:{type:"string",attribute:"src",default:""},imgID:{type:"number"},imgAlt:{type:"string",attribute:"alt"},bgColor:{type:"string",default:"#d3d5d9"},textColor:{type:"string",default:"#000"}};o("getbowtied/lookbook-shop-by-outfit",{title:s.__("Lookbook - Shop by Outfit"),icon:l(p,{key:"getbowtied-lookbook-sbo-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},l(_,{d:"M2.53 19.65l1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zm-9.2 3.8L7.87 7.79l7.35-3.04h.01l4.95 11.95-7.35 3.05z"}),l(b,{cx:"11",cy:"9",r:"1"}),l(_,{d:"M5.88 19.75c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z"})),category:"product_blocks",supports:{align:["full"]},attributes:y,edit:function(t){var r=t.attributes;return"full"!=t.attributes.align&&t.setAttributes({align:"full"}),[l(d,{key:"lookbook-shop-by-outfit-inspector"},l("div",{key:"lookbook-shop-by-outfit-inspector"},l(n,{key:"lookbook-shop-by-outfit-colors",title:s.__("Colors"),colors:[{name:"red",color:"#d02e2e"},{name:"orange",color:"#f76803"},{name:"yellow",color:"#fbba00"},{name:"green",color:"#43d182"},{name:"blue",color:"#2594e3"},{name:"white",color:"#ffffff"},{name:"dark-gray",color:"#abb7c3"},{name:"black",color:"#000"}],colorSettings:[{label:s.__("Background Color"),value:r.bgColor,onChange:function(e){t.setAttributes({bgColor:e})}},{label:s.__("Text Color"),value:r.textColor,onChange:function(e){t.setAttributes({textColor:e})}}]}))),l("div",{key:"gbt_18_lookbook_sts_hero_item",className:"gbt_18_lookbook_sts_hero_item"},l("div",{key:"gbt_18_lookbook_sts_hero_media_upload",className:"gbt_18_lookbook_sts_hero_media_upload"},l(c,{key:"gbt_18_hero_section_image",allowedTypes:["image"],allowedFormats:["align"],buttonProps:{className:"components-button button button-large"},value:r.imgID,onSelect:function(e){t.setAttributes({imgID:e.id,imgURL:e.url,imgAlt:e.alt})},render:function(e){return[!r.imgID&&l(g,{key:"gbt_18_hero_section_add_image_button",className:"button add_image",onClick:e.open},s.__("Add Image")),!!r.imgID&&l(g,{key:"gbt_18_hero_section_remove_image_button",className:"button remove_image",onClick:function(){e.close,t.setAttributes({imgID:null,imgURL:null,imgAlt:null})}},s.__("Remove Image"))]}})),l("div",{key:"gbt_18_lookbook_sts_hero_section_content",className:"gbt_18_lookbook_sts_hero_section_content",style:{backgroundColor:r.bgColor,backgroundImage:"url("+r.imgURL+")"}},l("div",{key:"gbt_18_hero_section_text",className:"gbt_18_hero_section_text"},l(u,{key:"gbt_18_hero_section_title",className:"gbt_18_hero_section_title",formattingControls:[],tagName:"h2",format:"string",value:r.title,placeholder:s.__("Lookbook Title"),style:{color:r.textColor},onChange:function(e){t.setAttributes({title:e})}}),l(u,{key:"gbt_18_hero_section_subtitle",className:"gbt_18_hero_section_subtitle",formattingControls:[],tagName:"p",format:"string",value:r.subtitle,placeholder:s.__("Lookbook Subtitle"),style:{color:r.textColor},onChange:function(e){t.setAttributes({subtitle:e})}}),l(p,{key:"gbt_18_lookbook_sts_scroll_down_button",className:"gbt_18_lookbook_sts_scroll_down_button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",style:{fill:r.textColor,border:"1px solid "+r.textColor}},l(_,{d:"M 11 3 L 11 17.070312 L 6.4296875 12.5 L 4.9296875 14 L 12 21.070312 L 19.070312 14 L 17.570312 12.5 L 13 17.070312 L 13 3 L 11 3 z"}))))),l(i,{key:"gbt_18_lookbook_reveal_inner_product",allowedBlocks:["getbowtied/lookbook-shop-by-outfit-product"]})]},save:function(e){return e.attributes.title=e.attributes.title||"",e.attributes.subtitle=e.attributes.subtitle||"",e.attributes.imgURL=e.attributes.imgURL||"",e.attributes.bgColor=e.attributes.bgColor||"",e.attributes.textColor=e.attributes.textColor||"",l("div",{key:"gbt_18_snap_look_book",className:"gbt_18_snap_look_book"},l("section",{key:"gbt_18_hero_look_book_item",className:"gbt_18_look_book_item gbt_18_hero_look_book_item",style:{backgroundImage:"url("+(e.attributes.imgURL||"")+")",backgroundColor:e.attributes.bgColor,color:e.attributes.textColor}},l("div",{key:"gbt_18_hero_section_content",className:"gbt_18_hero_section_content"},l("h2",{key:"gbt_18_hero_title",className:"gbt_18_hero_title",style:{color:e.attributes.textColor},dangerouslySetInnerHTML:{__html:e.attributes.title}}),l("p",{key:"gbt_18_hero_subtitle",className:"gbt_18_hero_subtitle",dangerouslySetInnerHTML:{__html:e.attributes.subtitle}})),l("span",{key:"gbt_18_scroll_down_button",className:"gbt_18_scroll_down_button",style:{borderColor:e.attributes.textColor}},l(p,{key:"gbt_18_scroll_down_button-svg",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",style:{fill:e.attributes.textColor}},l(_,{key:"gbt_18_scroll_down_button-svg-path",d:"M 11 3 L 11 17.070312 L 6.4296875 12.5 L 4.9296875 14 L 12 21.070312 L 19.070312 14 L 17.570312 12.5 L 13 17.070312 L 13 3 L 11 3 z"})))),l(i.Content,{key:"gbt_18_lookbook_snap_to_scroll_wrapper"}))},deprecated:[{attributes:y,save:function(e){return e.attributes.title=e.attributes.title||"",e.attributes.subtitle=e.attributes.subtitle||"",e.attributes.imgURL=e.attributes.imgURL||"",e.attributes.bgColor=e.attributes.bgColor||"",e.attributes.textColor=e.attributes.textColor||"",l("div",{key:"gbt_18_snap_look_book",className:"gbt_18_snap_look_book"},l("section",{key:"gbt_18_hero_look_book_item",className:"gbt_18_look_book_item gbt_18_hero_look_book_item",style:{backgroundImage:"url("+(e.attributes.imgURL||"")+")",backgroundColor:e.attributes.bgColor,color:e.attributes.textColor}},l("div",{key:"gbt_18_hero_section_content",className:"gbt_18_hero_section_content"},l("h2",{key:"gbt_18_hero_title",className:"gbt_18_hero_title",style:{color:e.attributes.textColor},dangerouslySetInnerHTML:{__html:e.attributes.title}}),l("p",{key:"gbt_18_hero_subtitle",className:"gbt_18_hero_subtitle",dangerouslySetInnerHTML:{__html:e.attributes.subtitle}})),l("span",{key:"gbt_18_scroll_down_button",className:"gbt_18_scroll_down_button",style:{borderColor:e.attributes.textColor}},l(p,{key:"gbt_18_scroll_down_button-svg",xmlns:"http://www.w3.org/2000/svg",Focusable:"false",viewBox:"0 0 24 24",style:{fill:e.attributes.textColor}},l(_,{key:"gbt_18_scroll_down_button-svg-path",d:"M 11 3 L 11 17.070312 L 6.4296875 12.5 L 4.9296875 14 L 12 21.070312 L 19.070312 14 L 17.570312 12.5 L 13 17.070312 L 13 3 L 11 3 z"})))),l(i.Content,{key:"gbt_18_lookbook_snap_to_scroll_wrapper"}))}}]})}(window.wp.blocks,window.wp.components,window.wp.editor,window.wp.i18n,window.wp.element,jQuery),function(e,t,r,n,s){var d=window.wp.element.createElement,a=e.registerBlockType,g=r.InspectorControls,p=r.MediaUpload,_=t.Button,b=t.TextControl,y=t.SelectControl,l=(t.RangeControl,t.SVG),o=t.Path,h=wp.apiFetch;a("getbowtied/lookbook-shop-by-outfit-product",{title:n.__("Lookbook - Shop by Outfit Product"),icon:d(l,{key:"getbowtied-lookbook-sbo-product-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},d(o,{d:"M21 4H3c-1.1 0-2 .9-2 2v13c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM3 19V6h8v13H3zm18 0h-8V6h8v13zm-7-9.5h6V11h-6zm0 2.5h6v1.5h-6zm0 2.5h6V16h-6z"})),category:"product_blocks",parent:["getbowtied/lookbook-shop-by-outfit"],supports:{align:["full"]},attributes:{productIDs:{type:"string",default:""},image_position:{type:"string",default:"image-right"},imgURL:{type:"string",attribute:"src",default:""},imgID:{type:"int"},imgAlt:{type:"string",attribute:"alt"},queryProducts:{type:"string",default:""},queryProductsLast:{type:"string",default:""},queryDisplayType:{type:"string",default:"default"},isLoading:{type:"bool",default:!1},selectedIDS:{type:"string",default:""},querySearchString:{type:"string",default:""},querySearchResults:{type:"array",default:[]},querySearchNoResults:{type:"bool",default:!1},querySearchSelected:{type:"array",default:[]},old_align:{type:"string",default:""},selectedSlide:{type:"int",default:0},align:{type:"string",default:"full"}},edit:function(o){function i(e){var t=[];0<e.length&&(t=e.split(","));for(var r=0;r<t.length;r++)""==t[r]?t.splice(r,1):t[r]=Number(t[r]);return t}function l(){return 5<c.querySearchSelected.length||5<i(c.selectedIDS).length?"is-disabled":""}function u(e){return"/wc/v2/products"+e}function t(){var e=c.queryProducts;o.setAttributes({queryProductsLast:e}),""!=e&&h({path:e}).then(function(e){o.setAttributes({result:e}),o.setAttributes({isLoading:!1}),!1===c.doneFirstLoad&&o.setAttributes({querySearchSelected:e}),o.setAttributes({doneFirstLoad:!0});for(var t="",r=0;r<e.length;r++)t+=e[r].id+",";o.setAttributes({productIDs:t}),o.setAttributes({selectedSlide:0})})}var c=o.attributes;c.result=c.result||[],c.isLoading=c.isLoading||!1,c.querySearchString=c.querySearchString||"",c.querySearchResults=c.querySearchResults||[],c.querySearchNoResults=c.querySearchNoResults||!1,c.doneFirstLoad=c.doneFirstLoad||!1,"full"!=c.align&&o.setAttributes({align:"full"});return[d(g,{key:"lookbook-shop-by-outfit-product-inspector"},d("div",{className:"products-main-inspector-wrapper"},d("div",{className:"products-ajax-search-wrapper "+l()},d(b,{key:"query-panel-string",type:"search",className:"products-ajax-search",value:c.querySearchString,placeholder:n.__("Search for products to display"),disabled:5<c.querySearchSelected.length,onChange:function(e){if(o.setAttributes({querySearchString:e}),!(e.length<3)){var t=u("?per_page=10&search="+e);h({path:t}).then(function(e){0==e.length?o.setAttributes({querySearchNoResults:!0}):o.setAttributes({querySearchNoResults:!1}),o.setAttributes({querySearchResults:e})})}}})),0<c.querySearchResults.length&&""!=c.querySearchString&&d("div",{className:"products-ajax-search-results"},function(){var e=[];if(!0===c.querySearchNoResults)return d("span",{key:"gbt-sbo-product-no-results",className:"no-results"},n.__("No products matching."));for(var t,a=c.querySearchResults,r=0;r<a.length;r++){var s="";s=void 0!==a[r].images[0].src&&""!=a[r].images[0].src?d("span",{key:"gbt-sbo-product-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+a[r].images[0].src+"')\"></span>"}}):d("span",{key:"gbt-sbo-product-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+getbowtied_pbw.woo_placeholder_image+"')\"></span>"}}),e.push(d("span",{key:"gbt-sbo-product-search-result-item-"+r,className:(t=a[r].id,(-1==i(c.selectedIDS).indexOf(t)?"single-result":"single-result selected")+" "+l()),title:a[r].name,"data-index":r},s,d("label",{key:"gbt-sbo-product-search-result-item-label-"+r,className:"title-wrapper"},d("input",{key:"gbt-sbo-product-search-result-item-input-"+r,type:"checkbox",value:r,onChange:function(e){if(!(5<i(c.selectedIDS).length)){e.target;var t=i(c.selectedIDS),r=t.indexOf(a[e.target.value].id);-1==r?t.push(a[e.target.value].id):t.splice(r,1),o.setAttributes({selectedIDS:t.join(",")});var s=u("?include="+t.join(",")+"&orderby=include");0<t.length?o.setAttributes({queryProducts:s}):o.setAttributes({queryProducts:""}),h({path:s}).then(function(e){o.setAttributes({querySearchSelected:e})})}}}),a[r].name,d("span",{key:"gbt-sbo-product-search-result-item-dashicon-yes-"+r,className:"dashicons dashicons-yes"}),d("span",{key:"gbt-sbo-product-search-result-item-dashicon-noalt-"+r,className:"dashicons dashicons-no-alt"}))))}return e}()),0<c.querySearchSelected.length&&d("div",{className:"products-selected-results-wrapper"},d("label",{},n.__("Selected Products:")),d("div",{className:"products-selected-results"},function(){for(var e=[],l=c.querySearchSelected,t=0;t<l.length;t++){var r="";r=void 0!==l[t].images[0].src&&""!=l[t].images[0].src?d("span",{key:"gbt-sbo-product-search-result-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+l[t].images[0].src+"')\"></span>"}}):d("span",{key:"gbt-sbo-product-search-result-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+getbowtied_pbw.woo_placeholder_image+"')\"></span>"}}),e.push(d("span",{key:"gbt-sbo-product-search-result-item-"+t,className:"single-result",title:l[t].name},r,d("label",{key:"gbt-sbo-product-search-result-item-label-"+t,className:"title-wrapper"},d("input",{key:"gbt-sbo-product-search-result-item-input-"+t,type:"checkbox",value:t,onChange:function(e){e.target;var t=i(c.selectedIDS);if(t.length<1&&0<c.querySearchSelected.length)for(var r=0;r<c.querySearchSelected.length;r++)t.push(c.querySearchSelected[r].id);var s=t.indexOf(l[e.target.value].id);-1!=s&&t.splice(s,1),o.setAttributes({selectedIDS:t.join(",")});var a=u("?include="+t.join(",")+"&orderby=include");0<t.length?(o.setAttributes({queryProducts:a}),h({path:a}).then(function(e){o.setAttributes({querySearchSelected:e})})):(o.setAttributes({queryProducts:""}),o.setAttributes({querySearchSelected:[]}))}}),l[t].name,d("span",{key:"gbt-sbo-product-search-result-item-dashicon-noalt"+t,className:"dashicons dashicons-no-alt"}))))}return e}())),d("button",{className:"render-results components-button is-button is-default is-primary is-large "+(!0===c.isLoading?"is-busy":""),disabled:0==c.queryProducts.length||c.queryProducts===c.queryProductsLast,onClick:function(e){o.setAttributes({isLoading:!0}),o.setAttributes({querySearchString:""}),o.setAttributes({querySearchResults:[]}),t()}},!1===c.isLoading?n.__("Update"):n.__("Updating"))),d("div",{className:"products-main-inspector-wrapper"},d(y,{key:"lookbook-shop-by-outfit-image-position",options:[{value:"image-right",label:"Right"},{value:"image-left",label:"Left"}],label:n.__("Image Position"),value:c.image_position,onChange:function(e){o.setAttributes({image_position:e})}}))),d("div",{key:"gbt_18_editor_lookbook_sts_product_content",className:"gbt_18_editor_lookbook_sts_product_content "+c.image_position},d("div",{key:"gbt_18_editor_lookbook_sts_product_content_left",className:"gbt_18_editor_lookbook_sts_product_content_left"},c.result.length<1&&!1===c.doneFirstLoad&&t(),function(){var e=c.result,t=[],r=[];if(0<e.length){for(var s="gbt_18_lookbook_sts_product",a=0;a<e.length;a++)t.push(d("li",{key:s+"_"+e[a].id,className:s},d("div",{key:s+"_content_wrapper_"+e[a].id+"-"+a,className:s+"_content_wrapper"},d("div",{key:s+"_thumbnail_"+e[a].id+"-"+a,className:s+"_thumbnail",style:{backgroundImage:"url("+e[a].images[0].src+")"}}),d("h4",{key:s+"_title_"+e[a].id+"-"+a,className:s+"_title"},e[a].name),d("span",{key:s+"_price_"+e[a].id+"-"+a,className:s+"_price",dangerouslySetInnerHTML:{__html:e[a].price_html}}),d("button",{key:s+"_button_"+e[a].id+"-"+a,className:s+"_button"},n.__("Add To Cart")))));r.push(d("div",{key:"gbt_18_lookbook_sts_products_wrapper",className:"gbt_18_lookbook_sts_products_wrapper"},d("ul",{key:"gbt_18_lookbook_sts_products ",className:"gbt_18_lookbook_sts_products products-"+e.length},t)))}else{for(var l="gbt_18_placeholder_lookbook_sts_product",o=0;o<2;o++)t.push(d("li",{key:l+"_"+o,className:l},d("div",{key:l+"_content_wrapper_"+o,className:l+"_content_wrapper"},d("div",{key:l+"_thumbnail_"+o,className:l+"_thumbnail"}),d("div",{key:l+"_title_"+o,className:l+"_title"}),d("div",{key:l+"_price_"+o,className:l+"_price"}),d("button",{key:l+"_button_"+o,className:l+"_button"},n.__("Add To Cart")))));r.push(d("div",{key:"gbt_18_placeholder_lookbook_sts_products_wrapper",className:"gbt_18_placeholder_lookbook_sts_products_wrapper"},d("ul",{key:"gbt_18_placeholder_lookbook_sts_products ",className:"gbt_18_placeholder_lookbook_sts_products "},t)))}return r}()),d("div",{key:"gbt_18_editor_lookbook_sts_product_content_right",className:"gbt_18_editor_lookbook_sts_product_content_right"},d("div",{key:"gbt_18_editor_lookbook_sts_product_media_upload",className:"gbt_18_editor_lookbook_sts_product_media_upload"},d(p,{key:"gbt_18_editor_product_media_upload",allowedTypes:["image"],formattingControls:["align"],buttonProps:{className:"components-button button button-large"},value:c.imgID,onSelect:function(e){o.setAttributes({imgID:e.id,imgURL:e.url,imgAlt:e.alt})},render:function(e){return[!c.imgID&&d(_,{key:"gbt_18_lookbook_sts_product_add_image_button",className:"button add_image",onClick:e.open},n.__("Add Image")),!!c.imgID&&d(_,{key:"gbt_18_lookbook_sts_product_remove_image_button",className:"button remove_image",onClick:function(){e.close,o.setAttributes({imgID:null,imgURL:null,imgAlt:null})}},n.__("Remove Image"))]}})),d("div",{key:"gbt_18_editor_lookbook_sts_product_content_image",className:"gbt_18_editor_lookbook_sts_product_content_image",style:{backgroundImage:"url("+c.imgURL+")"}})))]},save:function(e){return""}})}(window.wp.blocks,window.wp.components,window.wp.editor,window.wp.i18n),function(e,t,r,c,s){var _=s.createElement,a=e.registerBlockType,l=r.InspectorControls,u=t.TextControl,b=t.SelectControl,y=(t.ToggleControl,t.RangeControl),h=(t.Button,t.SVG),m=t.Path,v=wp.apiFetch;a("getbowtied/products-carousel",{title:c.__("Product Carousel"),icon:_(h,{key:"getbowtied-product-carousel-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},_(m,{key:"getbowtied-product-carousel-icon-path",d:"M 7 3 A 1.0001 1.0001 0 0 0 6 4 L 6 5 L 3 5 A 1.0001 1.0001 0 0 0 2 6 L 2 18 A 1.0001 1.0001 0 0 0 3 19 L 6 19 L 6 20 A 1.0001 1.0001 0 0 0 7 21 L 17 21 A 1.0001 1.0001 0 0 0 18 20 L 18 19 L 21 19 A 1.0001 1.0001 0 0 0 22 18 L 22 6 A 1.0001 1.0001 0 0 0 21 5 L 18 5 L 18 4 A 1.0001 1.0001 0 0 0 17 3 L 7 3 z M 8 5 L 16 5 L 16 5.8320312 A 1.0001 1.0001 0 0 0 16 6.1582031 L 16 17.832031 A 1.0001 1.0001 0 0 0 16 18.158203 L 16 19 L 8 19 L 8 18.167969 A 1.0001 1.0001 0 0 0 8 17.841797 L 8 6.1679688 A 1.0001 1.0001 0 0 0 8 5.8417969 L 8 5 z M 4 7 L 6 7 L 6 17 L 4 17 L 4 7 z M 18 7 L 20 7 L 20 17 L 18 17 L 18 7 z"})),category:"product_blocks",supports:{align:["center","wide","full"]},attributes:{queryProducts:{type:"string",default:"wc/v3/products?per_page=10"},queryProductsLast:{type:"string",default:""},queryDisplayType:{type:"string",default:"all_products"},selectedIDS:{type:"string",default:""},productIDs:{type:"string",default:""},querySearchSelected:{type:"array",default:[]},queryCategoryOptions:{type:"array",default:""},queryCategorySelected:{type:"array",default:[]},queryFilterSelected:{type:"string",default:""},queryAttributesSelected:{type:"string",default:""},queryAttributesOptions:{type:"array",default:[]},queryAttributesOptionsValues:{type:"array",default:[]},queryAttributesSelectedSlug:{type:"string",default:""},queryAttributesOptionsSelected:{type:"array",default:[]},queryOrder:{type:"string",default:""},columns:{type:"int",default:3},spaceBetween:{type:"int",default:30},limit:{type:"int",default:10}},edit:function(n){function o(e){var t=[];0<e.length&&(t=e.split(","));for(var r=0;r<t.length;r++)""==t[r]?t.splice(r,1):t[r]=Number(t[r]);return t}function a(){n.setAttributes({queryOrder:""}),n.setAttributes({queryProducts:""}),n.setAttributes({querySearchString:""}),n.setAttributes({querySearchResults:[]}),n.setAttributes({querySearchSelected:[]}),n.setAttributes({selectedIDS:[]}),n.setAttributes({queryAttributesOptionsSelected:[]}),n.setAttributes({queryCategorySelected:[]}),n.setAttributes({result:[]})}function i(e,t){return-1!=t.indexOf(e.toString())}function d(e){return"wc/v3/products"+e}function t(){var e=p.queryProducts;n.setAttributes({queryProductsLast:e}),""!=e&&v({path:e}).then(function(e){for(var t=[],r=0,s=0;s<e.length;s++)"hidden"!=e[s].catalog_visibility&&(t[r]=e[s],r++);e=t,n.setAttributes({result:e}),n.setAttributes({isLoading:!1}),!1===p.doneFirstLoad&&n.setAttributes({querySearchSelected:e}),n.setAttributes({doneFirstLoad:!0});for(var a="",l=0;l<e.length;l++)"hidden"!=e[l].catalog_visibility&&(a+=e[l].id+",");n.setAttributes({productIDs:a}),n.setAttributes({selectedSlide:0})})}function g(){if(p.queryOrder.length<1)return"";var e="";switch(p.queryOrder){case"date_desc":e="&orderby=date&order=desc";break;case"date_asc":e="&orderby=date&order=asc";break;case"title_desc":e="&orderby=title&order=desc";break;case"title_asc":e="&orderby=title&order=asc"}return e}function e(){var e=[];return e.push(_(b,{key:"query-panel-orderby",label:c.__("Order By:"),value:p.queryOrder,className:"orderby-wrapper",options:[{label:c.__("Newness - newest first"),value:"date_desc"},{label:c.__("Newness - oldest first"),value:"date_asc"},{label:c.__("Title - ascending"),value:"title_asc"},{label:c.__("Title - descending"),value:"title_desc"}],onChange:function(e){n.setAttributes({queryOrder:e}),function(e){var t=p.queryProducts;if(!(t.length<1)){var r=t.indexOf("&orderby");switch(-1<r&&(t=t.substring(r,-25)),e){case"date_desc":t+="&orderby=date&order=desc";break;case"date_asc":t+="&orderby=date&order=asc";break;case"title_desc":t+="&orderby=title&order=desc";break;case"title_asc":t+="&orderby=title&order=asc"}n.setAttributes({queryProducts:t})}}(e)}})),e}function r(){var e=d("/categories?&per_page=100"),s=[],a=[];v({path:e}).then(function(e){for(var t=0;t<e.length;t++)s[t]={label:e[t].name.replace(/&amp;/g,"&"),value:e[t].id,parent:e[t].parent,count:e[t].count};for(var r=0;r<s.length;r++);a=function e(t,r){for(var s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,l=0;l<r.length;l++)r[l].parent==t&&(r[l].level=a,s.push(r[l]),e(r[l].value,r,s,a+1));return s}(0,s),n.setAttributes({queryCategoryOptions:a})})}var p=n.attributes;return p.selectedSlide=p.selectedSlide||0,p.result=p.result||[],p.isLoading=p.isLoading||!1,p.querySearchString=p.querySearchString||"",p.querySearchResults=p.querySearchResults||[],p.querySearchNoResults=p.querySearchNoResults||!1,p.doneFirstLoad=p.doneFirstLoad||!1,[_(l,{key:"gbt-product-carousel-inspector"},_("div",{key:"gbt-product-carousel-inspector-wrapper",className:"products-main-inspector-wrapper"},_(b,{key:"gbt-product-carousel-query-panel-select",label:c.__("Source:"),value:p.queryDisplayType,options:[{label:c.__("Choose an Option"),value:"default"},{label:c.__("Manually pick products"),value:"specific"},{label:c.__("Display by Category"),value:"by_category"},{label:c.__("Filter Products"),value:"filter_by"},{label:c.__("All Products"),value:"all_products"}],onChange:function(e){if(""==p.queryProducts||!1!==window.confirm(c.__("Changing the product source will lose the current selection."))){if(a(),"by_category"===e&&r(),"all_products"===e){var t=d("?per_page="+p.limit);n.setAttributes({queryProducts:t})}return n.setAttributes({queryDisplayType:e})}}}),"specific"===p.queryDisplayType&&_("div",{key:"gbt-product-carousel-products-ajax-search-wrapper",className:"products-ajax-search-wrapper"},_(u,{key:"gbt-product-carousel-query-panel-string",type:"search",className:"products-ajax-search",value:p.querySearchString,placeholder:c.__("Search for products to display"),onChange:function(e){if(n.setAttributes({querySearchString:e}),!(e.length<3)){var t=d("?per_page=10&search="+e);v({path:t}).then(function(e){0==e.length?n.setAttributes({querySearchNoResults:!0}):n.setAttributes({querySearchNoResults:!1}),n.setAttributes({querySearchResults:e})})}}})),"specific"===p.queryDisplayType&&0<p.querySearchResults.length&&""!=p.querySearchString&&_("div",{key:"gbt-product-carousel-products-ajax-search-results",className:"products-ajax-search-results"},function(){var e=[];if(!0===p.querySearchNoResults)return _("span",{key:"gbt_18_carousel_search-no-results",className:"no-results"},c.__("No products matching."));for(var t,a=p.querySearchResults,r=0;r<a.length;r++){var s="";s=a[r].images.length&&void 0!==a[r].images[0].src&&""!=a[r].images[0].src?_("span",{key:"gbt_18_carousel_search-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+a[r].images[0].src+"')\"></span>"}}):_("span",{key:"gbt_18_carousel_search-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+getbowtied_pbw.woo_placeholder_image+"')\"></span>"}}),e.push(_("span",{key:"gbt-carousel-search-result-item-"+a[r].id,className:(t=a[r].id,-1==o(p.selectedIDS).indexOf(t)?"single-result":"single-result selected"),title:a[r].name,"data-index":r},s,_("label",{key:"gbt-carousel-search-result-item-title-"+r,className:"title-wrapper"},_("input",{key:"gbt-carousel-search-result-item-input-"+r,type:"checkbox",value:r,onChange:function(e){e.target;var t=o(p.selectedIDS),r=t.indexOf(a[e.target.value].id);-1==r?t.push(a[e.target.value].id):t.splice(r,1),n.setAttributes({selectedIDS:t.join(",")});var s=d("?include="+t.join(",")+"&orderby=include");0<t.length?n.setAttributes({queryProducts:s}):n.setAttributes({queryProducts:""}),v({path:s}).then(function(e){n.setAttributes({querySearchSelected:e})})}}),a[r].name,_("span",{key:"gbt-carousel-search-result-item-dashicon-yes-"+r,className:"dashicons dashicons-yes"}),_("span",{key:"gbt-carousel-search-result-item-dashicon-noalt-"+r,className:"dashicons dashicons-no-alt"}))))}return e}()),"specific"===p.queryDisplayType&&0<p.querySearchSelected.length&&_("div",{key:"gbt-product-carousel-products-selected-results-wrapper",className:"products-selected-results-wrapper"},_("label",{key:"gbt-product-carousel-products-selected-results-label"},c.__("Selected Products:")),_("div",{key:"gbt-product-carousel-products-selected-results",className:"products-selected-results"},function(){for(var e=[],l=p.querySearchSelected,t=0;t<l.length;t++){var r="";r=l[t].images.length&&void 0!==l[t].images[0].src&&""!=l[t].images[0].src?_("span",{key:"gbt_18_carousel_search-selected-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+l[t].images[0].src+"')\"></span>"}}):_("span",{key:"gbt_18_carousel_search-selected-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+getbowtied_pbw.woo_placeholder_image+"')\"></span>"}}),e.push(_("span",{key:"single-result-"+l[t].id,className:"single-result",title:l[t].name},r,_("label",{key:"gbt-carousel-search-selected-item-label-"+t,className:"title-wrapper"},_("input",{key:"gbt-carousel-search-selected-item-checkbox-"+t,type:"checkbox",value:t,onChange:function(e){e.target;var t=o(p.selectedIDS);if(t.length<1&&0<p.querySearchSelected.length)for(var r=0;r<p.querySearchSelected.length;r++)t.push(p.querySearchSelected[r].id);var s=t.indexOf(l[e.target.value].id);-1!=s&&t.splice(s,1),n.setAttributes({selectedIDS:t.join(",")});var a=d("?include="+t.join(",")+"&orderby=include");0<t.length?(n.setAttributes({queryProducts:a}),v({path:a}).then(function(e){n.setAttributes({querySearchSelected:e})})):(n.setAttributes({queryProducts:""}),n.setAttributes({querySearchSelected:[]}))}}),l[t].name,_("span",{key:"gbt-carousel-search-selected-item-dashicon-noalt-"+t,className:"dashicons dashicons-no-alt"}))))}return e}())),"by_category"===p.queryDisplayType&&_("div",{key:"gbt-product-carousel-category-result-wrapper",className:"category-result-wrapper"},function e(){var t,r,s=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,l=[],c=p.queryCategoryOptions;if(0<c.length)for(var o=0;o<c.length;o++)c[o].parent==s&&l.push(_("li",{key:"gbt-carousel-category-item-"+c[o].value,className:"level-"+c[o].level},_("label",{key:"gbt-carousel-category-item-label-"+o,className:(t=c[o].parent,r=c[o].value,(0==t?"parent parent-"+r:"child child-"+t)+" "+c[o].level)},_("input",{type:"checkbox",key:"category-checkbox-"+c[o].value,value:c[o].value,"data-index":o,"data-parent":c[o].parent,checked:i(c[o].value,p.queryCategorySelected),onChange:function(e){var t=Number(e.target.dataset.index);if(!0===e.target.checked){var r=p.queryCategorySelected;-1==r.indexOf(e.target.value)&&r.push(e.target.value);for(var s=t+1;s<c.length-1&&c[t].level<c[s].level;s++)-1==r.indexOf(c[s].value.toString())&&r.push(c[s].value.toString());n.setAttributes({queryCategorySelected:r})}else{var a=p.queryCategorySelected,l=a.indexOf(e.target.value);-1<l&&a.splice(l,1);for(var o=t+1;o<c.length-1&&c[t].level<c[o].level;o++){var i=a.indexOf(c[o].value.toString());-1<i&&a.splice(i,1)}n.setAttributes({queryCategorySelected:a})}if(0<p.queryCategorySelected.length){var u=d("?per_page="+p.limit+"&category="+p.queryCategorySelected.join(","));u+=g(),n.setAttributes({queryProducts:u})}else n.setAttributes({queryProducts:""})}}),c[o].label,_("sup",{key:"gbt-carousel-category-item-count-"+o},c[o].count)),e(c[o].value,a+1)));return 0<l.length?_("ul",{key:"gbt-product-carousel-category-ul",className:"level-"+a},l):void 0}()),"by_category"===p.queryDisplayType&&e(),"filter_by"===p.queryDisplayType&&_(b,{key:"gbt-product-carousel-query-panel-filter",value:p.queryFilterSelected,options:[{label:"Filter by",value:""},{label:c.__("Featured products"),value:"featured"},{label:c.__("On sale"),value:"on_sale"},{label:c.__("Attributes"),value:"attributes"}],onChange:function(e){if(a(),n.setAttributes({queryFilterSelected:e}),"attributes"===e)r=d("/attributes"),(s=[]).push({label:"Choose",value:" "}),v({path:r}).then(function(e){for(var t=0;t<e.length;t++)s.push({label:e[t].name.replace(/&amp;/g,"&"),value:e[t].id});n.setAttributes({queryAttributesOptions:s})});else{var t=d("?per_page="+p.limit+"&"+e+"=1");n.setAttributes({queryProducts:t})}var r,s}}),"filter_by"===p.queryDisplayType&&"attributes"===p.queryFilterSelected&&_(b,{key:"gbt-product-carousel-query-panel-attributes",value:p.queryAttributesSelected,options:p.queryAttributesOptions,onChange:function(e){a(),n.setAttributes({queryAttributesSelected:e}),function(e){var t=d("/attributes/"+e+"/terms"),r=[];v({path:t}).then(function(e){for(var t=0;t<e.length;t++)r[t]={label:e[t].name.replace(/&amp;/g,"&"),value:e[t].id,count:e[t].count};n.setAttributes({queryAttributesOptionsValues:r})});var s=d("/attributes/"+e);v({path:s}).then(function(e){n.setAttributes({queryAttributesSelectedSlug:e.slug})})}(e)}}),"filter_by"===p.queryDisplayType&&"attributes"===p.queryFilterSelected&&""!==p.queryAttributesSelected&&_("div",{key:"gbt-product-carousel-attributes-results-wrapper",className:"attributes-results-wrapper"},function(){var e=[],t=p.queryAttributesOptionsValues;if(0<t.length)for(var r=0;r<t.length;r++)e.push(_("label",{key:"gbt-attribute-"+t[r].value,className:"attribute-label"},_("input",{type:"checkbox",key:"attribute-checkbox-"+t[r].value,value:t[r].value,checked:i(t[r].value,p.queryAttributesOptionsSelected),onChange:function(e){if(!0===e.target.checked){var t=p.queryAttributesOptionsSelected;-1==t.indexOf(e.target.value)&&t.push(e.target.value),n.setAttributes({queryAttributesOptionsSelected:t})}else{var r=p.queryAttributesOptionsSelected,s=r.indexOf(e.target.value);-1<s&&r.splice(s,1),n.setAttributes({queryAttributesOptionsSelected:r})}if(0<p.queryAttributesOptionsSelected.length){var a=d("?per_page="+p.limit+"&attribute="+p.queryAttributesSelectedSlug+"&attribute_term="+p.queryAttributesOptionsSelected.join(","));a+=g(),n.setAttributes({queryProducts:a})}else n.setAttributes({queryProducts:""})}}),t[r].label,_("sup",{key:"gbt-attribute-count"},t[r].count)));return e}()),"filter_by"===p.queryDisplayType&&""!=p.queryFilterSelected&&e(),"all_products"===p.queryDisplayType&&e(),"specific"!==p.queryDisplayType&&_(y,{key:"gbt-product-carousel-number-of-products",value:p.limit,allowReset:!1,initialPosition:10,min:2,max:20,label:c.__("Number of Products"),onChange:function(e){var t,r,s,a=p.limit;n.setAttributes({limit:e}),t=a,r=e,s=p.queryProducts.replace("per_page="+t,"per_page="+r),n.setAttributes({queryProducts:s})}}),_("button",{key:"gbt-product-carousel-load-button",className:"render-results components-button is-button is-default is-primary is-large "+(!0===p.isLoading?"is-busy":""),disabled:0==p.queryProducts.length||p.queryProducts===p.queryProductsLast,onClick:function(e){n.setAttributes({isLoading:!0}),n.setAttributes({querySearchString:""}),n.setAttributes({querySearchResults:[]}),t()}},!1===p.isLoading?c.__("Update"):c.__("Updating")),_("hr",{key:"gbt-product-carousel-hr"}),_(y,{key:"gbt-product-carousel-columns",value:p.columns,allowReset:!1,initialPosition:3,min:2,max:6,label:c.__("Columns"),onChange:function(e){n.setAttributes({columns:e})}}),_(y,{key:"gbt-product-carousel-space-between",value:p.spaceBetween,allowReset:!1,initialPosition:30,min:0,max:50,label:c.__("Space Between Products"),onChange:function(e){n.setAttributes({spaceBetween:e})}}))),_("div",{key:"gbt_18_product_carousel_main_wrapper",className:"gbt_18_product_carousel"},p.result.length<1&&!1===p.doneFirstLoad&&t(),function(){var e,t=p.result,r=[],s=[];if(0<t.length){for(var a="gbt_18_carousel_product",l=0;l<t.length;l++){var o="";o=t[l].images.length&&void 0!==t[l].images[0]&&""!=t[l].images[0].src?t[l].images[0].src:getbowtied_pbw.woo_placeholder_image,r.push(_("li",{key:a+t[l].id,className:a+(e=l,p.selectedSlide<=e&&e<p.selectedSlide+p.columns?" is-visible":""),style:{width:100/t.length+"%",paddingRight:p.spaceBetween/2+"px",paddingLeft:p.spaceBetween/2+"px"}},_("div",{key:a+"_content_wrapper"+l,className:a+"_content_wrapper"},_("div",{key:a+"_thumbnail"+l,className:a+"_thumbnail",style:{backgroundImage:"url("+o+")"}}),_("h4",{key:a+"_title"+l,className:a+"_title"},t[l].name),_("span",{key:a+"_price"+l,className:a+"_price",dangerouslySetInnerHTML:{__html:t[l].price_html}}),_("button",{key:a+"_button"+l,className:a+"_button"},c.__("Add To Cart")))))}s.push(_("div",{key:"gbt_18_product_carousel_wrapper",className:"gbt_18_product_carousel_wrapper"},_("div",{key:"gbt_18_product_carousel_scrollable_wrapper",className:"scrollable_wrapper"},_("ul",{key:"gbt_18_carousel_products gbt_18_carousel_slider",className:"gbt_18_carousel_products gbt_18_carousel_slider columns-"+p.columns,style:{width:100*r.length/p.columns+"%",marginLeft:-p.selectedSlide*(100/p.columns)+"%"}},r)),_("button",{key:"gbt_18_carousel_toggle-prev-button",className:"toggle-prev-button",disabled:0==p.selectedSlide,onClick:function(){var e=p.selectedSlide;0<=e-1?n.setAttributes({selectedSlide:e-1}):n.setAttributes({selectedSlide:r.length-1})}},_(h,{key:"gbt_18_carousel_toggle-prev-button-svg",className:"gbt_18_carousel_products_placeholder_toggle toggle-prev",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",width:"16",height:"16"},_(m,{key:"gbt_18_carousel_toggle-prev-button-svg-path",d:"M427.699 171.705c9.999-9.996 10.001-26.205 0.005-36.204s-26.205-10.001-36.204-0.005l-307.2 307.107c-9.999 9.996-10.001 26.205-0.005 36.204l307.2 307.293c9.996 9.999 26.205 10.001 36.204 0.005s10.001-26.205 0.005-36.204l-289.101-289.188 289.095-289.008zM102.4 435.2c-14.138 0-25.6 11.462-25.6 25.6s11.462 25.6 25.6 25.6h819.2c14.138 0 25.6-11.462 25.6-25.6s-11.462-25.6-25.6-25.6h-819.2z"}))),_("button",{key:"gbt_18_carousel_toggle-next-button",className:"toggle-next-button",disabled:t.length-1<p.selectedSlide+p.columns,onClick:function(){var e=p.selectedSlide;e+1<r.length?n.setAttributes({selectedSlide:e+1}):n.setAttributes({selectedSlide:0})}},_(h,{key:"gbt_18_carousel_toggle-next-button-svg",className:"gbt_18_carousel_products_placeholder_toggle toggle-next",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024",width:"16",height:"16"},_(m,{key:"gbt_18_carousel_toggle-next-button-svg-path",d:"M596.301 749.895c-9.999 9.996-10.001 26.205-0.005 36.204s26.205 10.001 36.204 0.005l307.2-307.107c9.999-9.996 10.001-26.205 0.005-36.204l-307.2-307.293c-9.996-9.999-26.205-10.001-36.204-0.005s-10.001 26.205-0.005 36.204l289.101 289.188-289.095 289.008zM921.6 486.4c14.138 0 25.6-11.462 25.6-25.6s-11.462-25.6-25.6-25.6h-819.2c-14.138 0-25.6 11.462-25.6 25.6s11.462 25.6 25.6 25.6h819.2z"})))))}else{for(var i="gbt_18_carousel_placeholder_product",u=0;u<=2;u++)r.push(_("li",{key:i+"_item-"+u,className:i+" item-"+u},_("div",{key:i+"_content_wrapper"+u,className:i+"_content_wrapper"},_("div",{key:i+"_thumbnail"+u,className:i+"_thumbnail"}),_("div",{key:i+"_title"+u,className:i+"_title"}),_("div",{key:i+"_price"+u,className:i+"_price"}),_("button",{key:i+"_button"+u,className:i+"_button"},c.__("Add To Cart")))));s.push(_("div",{key:"gbt_18_product_carousel_placeholder_wrapper",className:"gbt_18_product_carousel_placeholder_wrapper"},_("ul",{key:"gbt_18_carousel_products_placeholder",className:"gbt_18_carousel_products_placeholder"},r),_("button",{key:"gbt_18_carousel_placeholder_toggle-prev-button",className:"toggle-prev-button"},_(h,{key:"gbt_18_carousel_placeholder_toggle-prev-button-svg",className:"gbt_18_carousel_products_placeholder_toggle toggle-prev",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},_(m,{key:"gbt_18_carousel_placeholder_toggle-prev-button-svg-path",d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}))),_("button",{key:"gbt_18_carousel_placeholder_toggle-next-button",className:"toggle-next-button"},_(h,{key:"gbt_18_carousel_placeholder_toggle-next-button-svg",className:"gbt_18_carousel_products_placeholder_toggle toggle-next",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},_(m,{key:"gbt_18_carousel_placeholder_toggle-next-button-svg-path",d:"M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"})))))}return s}())]},save:function(){return null}})}(window.wp.blocks,window.wp.components,window.wp.editor,window.wp.i18n,window.wp.element,jQuery),function(e,t,r,n,s){var d=s.createElement,a=e.registerBlockType,l=r.InspectorControls,g=t.TextControl,p=(t.Button,t.SVG),_=t.Path,b=wp.apiFetch;a("getbowtied/products-slider",{title:n.__("Product Slider"),icon:d(p,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},d(_,{d:"M21 18H2v2h19v-2zm-2-8v4H4v-4h15m1-2H3c-.55 0-1 .45-1 1v6c0 .55.45 1 1 1h17c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1zm1-4H2v2h19V4z"})),category:"product_blocks",supports:{align:["full"]},attributes:{productIDs:{type:"string",default:""},queryProducts:{type:"string",default:""},queryProductsLast:{type:"string",default:""},queryDisplayType:{type:"string",default:"default"},isLoading:{type:"bool",default:!1},selectedIDS:{type:"string",default:""},querySearchSelected:{type:"array",default:[]},old_align:{type:"string",default:""},align:{type:"string",default:"full"}},edit:function(o){function i(e){var t=[];0<e.length&&(t=e.split(","));for(var r=0;r<t.length;r++)""==t[r]?t.splice(r,1):t[r]=Number(t[r]);return t}function u(e){return"/wc/v2/products"+e}function t(){var e=c.queryProducts;o.setAttributes({queryProductsLast:e}),""!=e&&b({path:e}).then(function(e){o.setAttributes({result:e}),o.setAttributes({isLoading:!1}),!1===c.doneFirstLoad&&o.setAttributes({querySearchSelected:e}),o.setAttributes({doneFirstLoad:!0});for(var t="",r=0;r<e.length;r++)t+=e[r].id+",";o.setAttributes({productIDs:t}),o.setAttributes({selectedSlide:0})})}var c=o.attributes;return c.selectedSlide=c.selectedSlide||0,c.result=c.result||[],c.isLoading=c.isLoading||!1,c.querySearchString=c.querySearchString||"",c.querySearchResults=c.querySearchResults||[],c.querySearchNoResults=c.querySearchNoResults||!1,c.doneFirstLoad=c.doneFirstLoad||!1,"full"!=o.attributes.align&&o.setAttributes({align:"full"}),[d(l,{key:"gbt-product-slider-inspector"},d("div",{key:"gbt-product-slider-inspector-wrapper",className:"products-main-inspector-wrapper"},d("div",{className:"products-ajax-search-wrapper"},d(g,{key:"query-panel-string",type:"search",className:"products-ajax-search",value:c.querySearchString,placeholder:n.__("Search for products to display"),onChange:function(e){if(o.setAttributes({querySearchString:e}),!(e.length<3)){var t=u("?per_page=10&search="+e);b({path:t}).then(function(e){0==e.length?o.setAttributes({querySearchNoResults:!0}):o.setAttributes({querySearchNoResults:!1}),o.setAttributes({querySearchResults:e})})}}})),0<c.querySearchResults.length&&""!=c.querySearchString&&d("div",{className:"products-ajax-search-results"},function(){var e=[];if(!0===c.querySearchNoResults)return d("span",{key:"gbt-vertical-slider-search-results-no-results",className:"no-results"},n.__("No products matching."));for(var t,a=c.querySearchResults,r=0;r<a.length;r++){var s="";s=a[r].images.length&&void 0!==a[r].images[0].src&&""!=a[r].images[0].src?d("span",{key:"gbt-vertical-slider-search-results-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+a[r].images[0].src+"')\"></span>"}}):d("span",{key:"gbt-vertical-slider-search-results-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+getbowtied_pbw.woo_placeholder_image+"')\"></span>"}}),e.push(d("span",{key:"gbt-vertical-slider-search-result-item-"+a[r].id,className:(t=a[r].id,-1==i(c.selectedIDS).indexOf(t)?"single-result":"single-result selected"),title:a[r].name,"data-index":r},s,d("label",{key:"gbt-vertical-slider-search-result-item-title-"+r,className:"title-wrapper"},d("input",{key:"gbt-vertical-slider-search-result-item-checkbox-"+r,type:"checkbox",value:r,onChange:function(e){e.target;var t=i(c.selectedIDS),r=t.indexOf(a[e.target.value].id);-1==r?t.push(a[e.target.value].id):t.splice(r,1),o.setAttributes({selectedIDS:t.join(",")});var s=u("?include="+t.join(",")+"&orderby=include");0<t.length?o.setAttributes({queryProducts:s}):o.setAttributes({queryProducts:""}),b({path:s}).then(function(e){o.setAttributes({querySearchSelected:e})})}}),a[r].name,d("span",{key:"gbt-vertical-slider-search-result-item-dashicon-yes-"+r,className:"dashicons dashicons-yes"}),d("span",{key:"gbt-vertical-slider-search-result-item-dashicon-no-alt-"+r,className:"dashicons dashicons-no-alt"}))))}return e}()),0<c.querySearchSelected.length&&d("div",{className:"products-selected-results-wrapper"},d("label",{},n.__("Selected Products:")),d("div",{className:"products-selected-results"},function(){for(var e=[],l=c.querySearchSelected,t=0;t<l.length;t++){var r="";r=l[t].images.length&&void 0!==l[t].images[0].src&&""!=l[t].images[0].src?d("span",{key:"gbt-vertical-slider-search-selected-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+l[t].images[0].src+"')\"></span>"}}):d("span",{key:"gbt-vertical-slider-search-selected-img-wrapper",className:"img-wrapper",dangerouslySetInnerHTML:{__html:'<span class="img" style="background-image: url(\''+getbowtied_pbw.woo_placeholder_image+"')\"></span>"}}),e.push(d("span",{key:"gbt-vertical-slider-search-selected-item-"+l[t].id,className:"single-result",title:l[t].name},r,d("label",{key:"gbt-vertical-slider-search-selected-item-title-"+t,className:"title-wrapper"},d("input",{key:"gbt-vertical-slider-search-selected-item-checkbox-"+t,type:"checkbox",value:t,onChange:function(e){e.target;var t=i(c.selectedIDS);if(t.length<1&&0<c.querySearchSelected.length)for(var r=0;r<c.querySearchSelected.length;r++)t.push(c.querySearchSelected[r].id);var s=t.indexOf(l[e.target.value].id);-1!=s&&t.splice(s,1),o.setAttributes({selectedIDS:t.join(",")});var a=u("?include="+t.join(",")+"&orderby=include");0<t.length?(o.setAttributes({queryProducts:a}),b({path:a}).then(function(e){o.setAttributes({querySearchSelected:e})})):(o.setAttributes({queryProducts:""}),o.setAttributes({querySearchSelected:[]}))}}),l[t].name,d("span",{key:"gbt-vertical-slider-search-selected-item-dashicon-no-alt-"+t,className:"dashicons dashicons-no-alt"}))))}return e}())),d("button",{className:"render-results components-button is-button is-default is-primary is-large "+(!0===c.isLoading?"is-busy":""),disabled:0==c.queryProducts.length||c.queryProducts===c.queryProductsLast,onClick:function(e){o.setAttributes({isLoading:!0}),o.setAttributes({querySearchString:""}),o.setAttributes({querySearchResults:[]}),t()}},!1===c.isLoading?n.__("Update"):n.__("Updating")))),d("div",{key:"gbt_18_default_slider_main_wrapper"},d("div",{className:"gbt_18_editor_default_slider",key:"gbt_18_default_slider_products_wrapper"},c.result.length<1&&!1===c.doneFirstLoad&&t(),function(){for(var e,t=c.result,r=[],s=[],a=0;a<t.length;a++){var l=t[a].name;l=35<l.length?l.substring(0,35)+"...":l.substring(0,35),s.push(d("div",{className:"gbt_18_editor_slide_content_item slide "+(e=a,c.selectedSlide==e?"selected":""),key:"gbt_18_slide_content_item"+t[a].id},d("div",{className:"gbt_18_editor_slide_content_left",key:"gbt_18_editor_slide_content_left"+a},d("div",{className:"gbt_18_editor_slide_content_left_inner",key:"gbt_18_editor_slide_content_left_inner"+a},d("h2",{className:"gbt_18_editor_slide_title",key:"gbt_18_slide_title"+a},l),d("p",{className:"gbt_18_editor_slide_price",key:"gbt_18_slide_price"+a,dangerouslySetInnerHTML:{__html:t[a].price_html}}),d("button",{className:"gbt_18_editor_add_to_cart",key:"gbt_18_editor_add_to_cart"+a},n.__("Add To Cart")),d("div",{key:"gbt_18_editor_slide_link"+a,className:"gbt_18_editor_slide_link"},d("i",{key:"gbt_18_icon_right"+a,className:"gbt_18_icon_right"}),n.__("View Product Page")))),d("div",{className:"gbt_18_editor_slide_content_right",key:"gbt_18_editor_slide_content_right"+a},d("div",{className:"gbt_18_editor_image",key:"gbt_18_image"+a,style:{backgroundImage:"url("+t[a].images[0].src+")"}}))))}return 0==s.length&&s.push(d("div",{className:"gbt_18_editor_slide_placeholder_content_item",key:"gbt_18_slide_placeholder_content_item"},d("div",{className:"gbt_18_editor_slide_placeholder_content_left",key:"gbt_18_editor_slide_placeholder_content_left"},d("div",{className:"gbt_18_editor_slide_placeholder_title",key:"gbt_18_slide_placeholder_title"}),d("div",{className:"gbt_18_editor_slide_placeholder_p1",key:"gbt_18_editor_slide_placeholder_p1"}),d("div",{className:"gbt_18_editor_slide_placeholder_p2",key:"gbt_18_editor_slide_placeholder_p2"}),d("div",{className:"gbt_18_editor_slide_placeholder_p3",key:"gbt_18_editor_slide_placeholder_p3"}),d("div",{className:"gbt_18_editor_slide_placeholder_button",key:"gbt_18_editor_slide_placeholder_button"})),d("div",{className:"gbt_18_editor_slide_placeholder_content_right",key:"gbt_18_editor_slide_placeholder_content_right"},d("div",{className:"gbt_18_editor_placeholder_image",key:"gbt_18_editor_placeholder_image"})))),r.push(d("div",{className:"gbt_18_editor_content",key:"gbt_18_content"},d("div",{className:"gbt_18_editor_content_wrapper",key:"gbt_18_content_wrapper"},d("div",{className:"gbt_18_editor_slide_content slider",key:"gbt_18_slide_content"},s),1<s.length&&d("div",{key:"gbt_18_slide_content_arrows",className:"gbt_18_slide_content_arrows"},d("button",{className:"toggle-prev toggle-arrow",onClick:function(){var e=c.selectedSlide;0<=e-1?o.setAttributes({selectedSlide:e-1}):o.setAttributes({selectedSlide:s.length-1})}},d(p,{key:"gbt_18_slide_content_toggle-prev-button-svg",className:"toggle-prev-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},d(_,{key:"gbt_18_slide_content_toggle-prev-button-svg-path",d:"M512.088 87.404l289.008 289.095c9.996 9.999 26.205 10.001 36.204 0.005s10.001-26.205 0.005-36.204l-307.107-307.2c-9.996-9.999-26.205-10.001-36.204-0.005l-307.293 307.2c-9.999 9.996-10.001 26.205-0.005 36.204s26.205 10.001 36.204 0.005l289.188-289.101zM537.601 51.2c0-14.138-11.462-25.6-25.6-25.6s-25.6 11.462-25.6 25.6v819.2c0 14.138 11.462 25.6 25.6 25.6s25.6-11.462 25.6-25.6v-819.2z"}))),d("button",{className:"toggle-next toggle-arrow",onClick:function(){var e=c.selectedSlide;e+1<s.length?o.setAttributes({selectedSlide:e+1}):o.setAttributes({selectedSlide:0})}},d(p,{key:"gbt_18_slide_content_toggle-next-button-svg",className:"toggle-next-icon",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},d(_,{key:"gbt_18_slide_content_toggle-next-button-svg-path",d:"M222.905 545.101c-9.996-9.999-26.205-10.001-36.204-0.005s-10.001 26.205-0.005 36.204l307.107 307.2c9.996 9.999 26.205 10.001 36.204 0.005l307.293-307.2c9.999-9.996 10.001-26.205 0.005-36.204s-26.205-10.001-36.204-0.005l-289.188 289.101-289.008-289.095zM486.4 870.4c0 14.138 11.462 25.6 25.6 25.6s25.6-11.462 25.6-25.6v-819.2c0-14.138-11.462-25.6-25.6-25.6s-25.6 11.462-25.6 25.6v819.2z"}))))))),r}()))]},save:function(){return null}})}(window.wp.blocks,window.wp.components,window.wp.editor,window.wp.i18n,window.wp.element,jQuery);